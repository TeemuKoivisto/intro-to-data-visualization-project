(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n(411)},224:function(e,t,n){e.exports=n.p+"static/media/guardian-polls.d93782ba.csv"},225:function(e,t,n){e.exports=n.p+"static/media/guardian-election-results.b74f7e5b.csv"},410:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c=n(1),l=n(13),u=n(45),s=n(59),p=n(26),d=n(93),m=n.n(d),f=n(154),h=n(67),b=n(68),x=(n(205),n(8)),g=(n(155),n(156)),E=function(e,t){return new Promise(function(n,r){Object(g.parse)(e,{delimiter:",",download:!0,header:!0,skipEmptyLines:!0,complete:function(e){n(e.data.map(function(e){return t(e)}))},error:function(e){r(e)}})})},v=function(e){return{date:e.date,CON:parseFloat(e.CON),LAB:parseFloat(e.LAB),LIBDEM:parseFloat(e["LIB DEM"]),OTHER:parseFloat(e.OTHER)}},y=(r=function e(){Object(p.a)(this,e),Object(h.a)(this,"guardianPolls",a,this),Object(h.a)(this,"guardianResults",i,this),Object(h.a)(this,"getGuardianData",o,this)},a=Object(b.a)(r.prototype,"guardianPolls",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(b.a)(r.prototype,"guardianResults",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object(b.a)(r.prototype,"getGuardianData",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(f.a)(m.a.mark(function t(){var r,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(n(224),v);case 2:return r=t.sent,t.next=5,E(n(225),v);case 5:a=t.sent,Object(x.l)(function(){e.guardianPolls=r,e.guardianResults=a});case 7:case"end":return t.stop()}},t)}))}}),r),O={enforceActions:"observed"},j=n(171),k=n(18),w=n(29),D=n(100),z=s,S=z.default,A=(z.css,z.createGlobalStyle,z.keyframes,z.ThemeProvider,S);function B(){var e=Object(w.a)(["\n  margin: 20px;\n"]);return B=function(){return e},e}function F(){var e=Object(w.a)(["\n  font-family: 'Raleway', sans-serif;\n  max-width: 980px;\n"]);return F=function(){return e},e}var C=function(e){var t,n=e.component,r=Object(D.a)(e,["component"]);return c.createElement(k.b,Object.assign({},r,{render:(t=n,function(e){return c.createElement(L,null,c.createElement(P,null,c.createElement(t,e)))})}))},L=A.div(F()),P=A.main(B()),R=n(60),I=n(65),K=n(61),T=n(66),N=n(11);function G(){var e=Object(w.a)([""]);return G=function(){return e},e}var M,H={CON:"#0087DC",LAB:"#DC241f",LIBDEM:"#FAA61A",OTHER:"#82ca9d"},W=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return t[1]<r?[n,r]:t},["",0])},J=function(e){return H[e]},V=A(function(e){function t(){return Object(p.a)(this,t),Object(I.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.polls,r=e.results,a=r.reduce(function(e,t,a){var i,o=t.date;if(0===a){var c=W(t);e.push({x1:n[a].date,x2:r[a].date,y1:0,y2:.8,color:J(c[0])})}i=a===r.length-1?n[n.length-1].date:r[a+1].date;var l=W(t);return e.push({x1:o,x2:i,y1:0,y2:.8,color:J(l[0])}),e},[]);return c.createElement(N.e,{className:t,width:1200,height:1e3,data:n,margin:{top:5,right:10,left:5,bottom:5}},c.createElement(N.a,{strokeDasharray:"3 3"}),c.createElement(N.i,{dataKey:"date"},c.createElement(N.b,{dataKey:"date",position:"right",angle:45})),c.createElement(N.j,null),c.createElement(N.h,null),c.createElement(N.c,null),r.map(function(e){return c.createElement(N.g,{key:e.date,x:e.date,isFront:!0,stroke:"red",label:"Election"})}),a.map(function(e){return c.createElement(N.f,{key:e.x1+e.x2,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,fill:e.color,fillOpacity:.1})}),c.createElement(N.d,{type:"monotone",dataKey:"CON",stroke:"#0087DC",activeDot:{r:8}}),c.createElement(N.d,{type:"monotone",dataKey:"LAB",stroke:"#DC241f",activeDot:{r:8}}),c.createElement(N.d,{type:"monotone",dataKey:"LIBDEM",stroke:"#FAA61A",activeDot:{r:8}}),c.createElement(N.d,{type:"monotone",dataKey:"OTHER",stroke:"#82ca9d",activeDot:{r:8}}),c.createElement(N.f,{x1:150,x2:180,y1:200,y2:300,stroke:"red",strokeOpacity:.3}))}}]),t}(c.PureComponent))(G());function q(){var e=Object(w.a)(["\n"]);return q=function(){return e},e}var Q=Object(u.b)(function(e){return{pollStore:e.pollStore}})(M=Object(u.c)(M=function(e){function t(){return Object(p.a)(this,t),Object(I.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.pollStore.getGuardianData()}},{key:"render",value:function(){var e=this.props.pollStore,t=e.guardianPolls,n=e.guardianResults;return c.createElement(U,null,c.createElement("header",null,c.createElement("h1",null,c.createElement("a",{href:"https://teemukoivisto.github.io/intro-to-data-visualization-project/"},"Interactive Data Visualization Project: Spring 2019")),c.createElement("p",null,"British Poll data visualization by Teemu Koivisto"),c.createElement("p",null,c.createElement("a",{href:"https://github.com/teemukoivisto/intro-to-data-visualization-project"},"Github repo"))),c.createElement("div",null,c.createElement(V,{polls:t,results:n})))}}]),t}(c.Component))||M)||M,U=A.div(q());n(410);n.d(t,"stores",function(){return X}),Object(x.e)(O);var X=new function e(){Object(p.a)(this,e),this.pollStore=void 0,this.pollStore=new y};Object(l.render)(c.createElement(u.a,X,c.createElement(s.ThemeProvider,{theme:{color:{textLight:"#666",textDark:"#222",bg:"#fff",white:"#fff",primary:"#2979FF",secondary:"#82B1FF"},spinner:{sizes:{small:{borderWidth:"2px",margin:"0 8px 0 8px",height:"14px",width:"14px"},medium:{borderWidth:"3px",margin:"10px 12px 10px 12px",height:"16px",width:"16px"},large:{borderWidth:"3px",margin:"5px 12px 5px 12px",height:"20px",width:"20px"}}},button:{sizes:{small:{fontSize:"14px",height:"30px",padding:"0 8px"},medium:{fontSize:"16px",height:"40px",padding:"0 12px"},large:{fontSize:"18px",height:"50px",padding:"0 16px"}}},fontSize:{small:"16px",medium:"18px",large:"24px",xlarge:"40px",largeIcon:"50px"}}},c.createElement(function(){return c.createElement(j.a,{basename:"/intro-to-data-visualization-project"},c.createElement(k.d,null,c.createElement(C,{exact:!0,path:"/",component:Q}),c.createElement(k.a,{to:"/"})))},null))),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.96a2804c.chunk.js.map