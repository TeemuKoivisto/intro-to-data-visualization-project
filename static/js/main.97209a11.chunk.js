(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n(411)},224:function(e,t,n){e.exports=n.p+"static/media/guardian-polls.6067d4d6.csv"},225:function(e,t,n){e.exports=n.p+"static/media/guardian-election-results.08c2060f.csv"},410:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c=n(1),l=n(13),u=n(45),s=n(59),p=n(26),d=n(93),m=n.n(d),f=n(154),h=n(67),x=n(68),b=(n(205),n(8)),g=(n(155),n(156)),v=function(e,t){return new Promise(function(n,r){Object(g.parse)(e,{delimiter:",",download:!0,header:!0,skipEmptyLines:!0,complete:function(e){n(e.data.map(function(e){return t(e)}))},error:function(e){r(e)}})})},y=function(e){return{date:e.date,CON:parseFloat(e.CON),LAB:parseFloat(e.LAB),LIBDEM:parseFloat(e.LIBDEM),OTHER:parseFloat(e.OTHER)}},E=(r=function e(){Object(p.a)(this,e),Object(h.a)(this,"guardianPolls",a,this),Object(h.a)(this,"guardianResults",i,this),Object(h.a)(this,"getGuardianData",o,this)},a=Object(x.a)(r.prototype,"guardianPolls",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(x.a)(r.prototype,"guardianResults",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object(x.a)(r.prototype,"getGuardianData",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(f.a)(m.a.mark(function t(){var r,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(n(224),y);case 2:return r=t.sent,t.next=5,v(n(225),y);case 5:a=t.sent,Object(b.l)(function(){e.guardianPolls=r,e.guardianResults=a});case 7:case"end":return t.stop()}},t)}))}}),r),O={enforceActions:"observed"},j=n(171),k=n(18),w=n(29),D=n(100),z=s,A=z.default,C=(z.css,z.createGlobalStyle,z.keyframes,z.ThemeProvider,A);function S(){var e=Object(w.a)(["\n  margin: 20px;\n"]);return S=function(){return e},e}function B(){var e=Object(w.a)(["\n  font-family: 'Raleway', sans-serif;\n  max-width: 980px;\n"]);return B=function(){return e},e}var F=function(e){var t,n=e.component,r=Object(D.a)(e,["component"]);return c.createElement(k.b,Object.assign({},r,{render:(t=n,function(e){return c.createElement(L,null,c.createElement(P,null,c.createElement(t,e)))})}))},L=C.div(B()),P=C.main(S()),R=n(60),I=n(65),T=n(61),K=n(66),N=n(11);function G(){var e=Object(w.a)([""]);return G=function(){return e},e}var M={CON:"#0087DC",LAB:"#DC241f",LIBDEM:"#FAA61A",OTHER:"#82ca9d"},H=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return t[1]<r?[n,r]:t},["",0])},W=function(e){return M[e]};function J(e){var t=e.x,n=e.y,r=e.payload;return c.createElement("g",{transform:"translate(".concat(t,",").concat(n,")")},c.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-35)"},r.value))}var V,q=C(function(e){function t(){return Object(p.a)(this,t),Object(I.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.polls,r=e.results;return c.createElement(N.d,{className:t,width:1200,height:1e3,data:n,margin:{top:5,right:10,left:5,bottom:40}},c.createElement(N.a,{strokeDasharray:"3 3"}),c.createElement(N.h,{dataKey:"date",tick:c.createElement(J,null)}),c.createElement(N.i,null),c.createElement(N.g,null),c.createElement(N.b,{verticalAlign:"top",height:36}),r.map(function(e){return c.createElement(N.f,{key:e.date,x:e.date,isFront:!0,stroke:"red",label:"Election"})}),this.areaColors.map(function(e){return c.createElement(N.e,{key:e.x1+e.x2,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,fill:e.color,fillOpacity:.1})}),c.createElement(N.c,{type:"monotone",dataKey:"CON",stroke:"#0087DC",activeDot:{r:8}}),c.createElement(N.c,{type:"monotone",dataKey:"LAB",stroke:"#DC241f",activeDot:{r:8}}),c.createElement(N.c,{type:"monotone",dataKey:"LIBDEM",stroke:"#FAA61A",activeDot:{r:8}}),c.createElement(N.c,{type:"monotone",dataKey:"OTHER",stroke:"#82ca9d",activeDot:{r:8}}),c.createElement(N.e,{x1:150,x2:180,y1:200,y2:300,stroke:"red",strokeOpacity:.3}))}},{key:"areaColors",get:function(){var e=this.props,t=e.polls,n=e.results;return n.reduce(function(e,r,a){var i,o=r.date;if(0===a){var c=H(r);e.push({x1:t[a].date,x2:n[a].date,y1:0,y2:.8,color:W(c[0])})}i=a===n.length-1?t[t.length-1].date:n[a+1].date;var l=H(r);return e.push({x1:o,x2:i,y1:0,y2:.8,color:W(l[0])}),e},[])}}]),t}(c.PureComponent))(G());function Q(){var e=Object(w.a)(["\n"]);return Q=function(){return e},e}var U=Object(u.b)(function(e){return{pollStore:e.pollStore}})(V=Object(u.c)(V=function(e){function t(){return Object(p.a)(this,t),Object(I.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.pollStore.getGuardianData()}},{key:"render",value:function(){var e=this.props.pollStore,t=e.guardianPolls,n=e.guardianResults;return c.createElement(X,null,c.createElement("header",null,c.createElement("h1",null,c.createElement("a",{href:"https://teemukoivisto.github.io/intro-to-data-visualization-project/"},"Interactive Data Visualization Project: Spring 2019")),c.createElement("p",null,"British Poll data visualization by Teemu Koivisto"),c.createElement("p",null,c.createElement("a",{href:"https://github.com/teemukoivisto/intro-to-data-visualization-project"},"Github repo"))),c.createElement("div",null,c.createElement(q,{polls:t,results:n})))}}]),t}(c.Component))||V)||V,X=C.div(Q());n(410);n.d(t,"stores",function(){return Y}),Object(b.e)(O);var Y=new function e(){Object(p.a)(this,e),this.pollStore=void 0,this.pollStore=new E};Object(l.render)(c.createElement(u.a,Y,c.createElement(s.ThemeProvider,{theme:{color:{textLight:"#666",textDark:"#222",bg:"#fff",white:"#fff",primary:"#2979FF",secondary:"#82B1FF"},spinner:{sizes:{small:{borderWidth:"2px",margin:"0 8px 0 8px",height:"14px",width:"14px"},medium:{borderWidth:"3px",margin:"10px 12px 10px 12px",height:"16px",width:"16px"},large:{borderWidth:"3px",margin:"5px 12px 5px 12px",height:"20px",width:"20px"}}},button:{sizes:{small:{fontSize:"14px",height:"30px",padding:"0 8px"},medium:{fontSize:"16px",height:"40px",padding:"0 12px"},large:{fontSize:"18px",height:"50px",padding:"0 16px"}}},fontSize:{small:"16px",medium:"18px",large:"24px",xlarge:"40px",largeIcon:"50px"}}},c.createElement(function(){return c.createElement(j.a,{basename:"/intro-to-data-visualization-project"},c.createElement(k.d,null,c.createElement(F,{exact:!0,path:"/",component:U}),c.createElement(k.a,{to:"/"})))},null))),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.97209a11.chunk.js.map